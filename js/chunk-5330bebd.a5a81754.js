(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5330bebd"],{1813:function(t,e,r){},"18cc":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TicketDetails"},[a("div",{staticClass:"DetailsHeader mb-4"},[a("b-button",{attrs:{variant:"flat-danger"},on:{click:t.GoBack}},[a("feather-icon",{staticClass:"mr-50",attrs:{icon:"ChevronLeftIcon"}}),a("span",{staticClass:"align-middle"},[t._v("返回工单列表")])],1),a("h5",[t._v("工单详情 - # "+t._s(t.ID))])],1),t._l(t.dialogs.message,(function(e,n){return a("b-card",{key:n,staticClass:"col-lg-6 mx-auto"},[a("b-media",{attrs:{"no-body":""}},[a("b-media-aside",[a("b-avatar",{attrs:{src:e.is_me?r("977a"):"https://cdn.jsdelivr.net/gh/piegun/01@4685640aef7a4e865b073dcc3679304886ef86c9/2021/7/24/13/5260628.png",size:"38"}})],1),a("b-media-body",[a("h6",{staticClass:"font-weight-bolder mb-25"},[t._v(" "+t._s(e.is_me?"我":"管理员")+" ")]),a("b-card-text",[t._v(t._s(t.timestampToTime(e.updated_at)))]),a("b-card-text",[t._v(" "+t._s(e.message)+" ")])],1)],1)],1)})),a("b-card",{staticClass:"col-lg-6 mx-auto mt-2"},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:0==t.dialogs.status?"输入回复内容":"工单已关闭，请新建工单"},model:{value:t.reply_txt,callback:function(e){t.reply_txt=e},expression:"reply_txt"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-primary",disabled:0!=t.dialogs.status||t.isPosting},on:{click:function(e){return t.reply()}}},[t._v(" 回复工单 ")])],1)],1)],1)],2)},n=[],c=r("1947"),o=r("205f"),i=r("34b6"),s=r("7fa6"),b=r("d6e4"),u=r("7c32"),l=r("e8a3"),d=r("5e12"),f=r("4797"),p=r("ccc0"),O=r("3656"),g={components:{BButton:c["a"],BCard:o["a"],BMedia:i["a"],BMediaBody:s["a"],BCardText:b["a"],BMediaAside:u["a"],BAvatar:l["a"],BInputGroup:d["a"],BFormInput:f["a"],BInputGroupAppend:p["a"],BInputGroupPrepend:O["a"]},data:function(){return{ID:"",updateThread:null,dialogs:{},reply_txt:"",isPosting:!1}},mounted:function(){var t=this;this.ID=this.$route.params.id,this.getTicketContent(),this.updateThread=setInterval((function(){t.getTicketContent()}),1e4)},methods:{GoBack:function(){this.$router.push({name:"ticket"})},reply:function(){var t=this,e={id:this.$route.params.id,message:this.reply_txt};this.isPosting=!0,this.$http({url:"/api/v1/user/ticket/reply",method:"POST",data:e}).then((function(e){e=e.data.data,1==e&&(t.reply_txt="",t.getTicketContent()),t.isPosting=!1})).catch((function(e){clearInterval(t.updateThread),msg(e.response.data.message),t.isPosting=!1}))},timestampToTime:function(t){var e=new Date(1e3*t),r=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",c=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",i=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return r+a+n+c+o+i},getTicketContent:function(){var t=this;this.$http({url:"/api/v1/user/ticket/fetch?id="+this.$route.params.id,method:"GET"}).then((function(e){e=e.data,e&&(t.dialogs=e.data),t.isPosting=!1})).catch((function(e){clearInterval(t.updateThread),msg(e.response.data.message),t.isPosting=!1}))}}},j=g,m=(r("cf9f"),r("2877")),h=Object(m["a"])(j,a,n,!1,null,null,null);e["default"]=h.exports},"205f":function(t,e,r){"use strict";r.d(e,"a",(function(){return S}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("9b76"),s=r("8690"),b=r("365c"),u=r("d82f"),l=r("cf75"),d=r("d580"),f=r("6197"),p=r("b885");function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=Object(l["d"])(Object(u["m"])(g(g({},Object(l["a"])(d["a"],l["f"].bind(null,"footer"))),{},{footer:Object(l["c"])(o["r"]),footerClass:Object(l["c"])(o["d"]),footerHtml:Object(l["c"])(o["r"])})),c["l"]),h=a["default"].extend({name:c["l"],functional:!0,props:m,render:function(t,e){var r,a=e.props,c=e.data,o=e.children,i=a.footerBgVariant,b=a.footerBorderVariant,u=a.footerTextVariant;return t(a.footerTag,Object(n["a"])(c,{staticClass:"card-footer",class:[a.footerClass,(r={},j(r,"bg-".concat(i),i),j(r,"border-".concat(b),b),j(r,"text-".concat(u),u),r)],domProps:o?{}:Object(s["a"])(a.footerHtml,a.footer)}),o)}}),v=r("4918");function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x=Object(l["d"])(Object(u["m"])(P(P({},Object(u["k"])(v["b"],["src","alt","width","height","left","right"])),{},{bottom:Object(l["c"])(o["f"],!1),end:Object(l["c"])(o["f"],!1),start:Object(l["c"])(o["f"],!1),top:Object(l["c"])(o["f"],!1)})),c["n"]),T=a["default"].extend({name:c["n"],functional:!0,props:x,render:function(t,e){var r=e.props,a=e.data,c=r.src,o=r.alt,i=r.width,s=r.height,b="card-img";return r.top?b+="-top":r.right||r.end?b+="-right":r.bottom?b+="-bottom":(r.left||r.start)&&(b+="-left"),t("img",Object(n["a"])(a,{class:b,attrs:{src:c,alt:o,width:i,height:s}}))}});function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k=Object(l["a"])(x,l["f"].bind(null,"img"));k.imgSrc.required=!1;var _=Object(l["d"])(Object(u["m"])(D(D(D(D(D(D({},f["b"]),p["b"]),m),k),d["a"]),{},{align:Object(l["c"])(o["r"]),noBody:Object(l["c"])(o["f"],!1)})),c["j"]),S=a["default"].extend({name:c["j"],functional:!0,props:_,render:function(t,e){var r,a=e.props,c=e.data,o=e.slots,u=e.scopedSlots,d=a.imgSrc,O=a.imgLeft,g=a.imgRight,j=a.imgStart,v=a.imgEnd,y=a.imgBottom,P=a.header,w=a.headerHtml,x=a.footer,C=a.footerHtml,D=a.align,_=a.textVariant,S=a.bgVariant,V=a.borderVariant,E=u||{},I=o(),A={},H=t(),M=t();if(d){var $=t(T,{props:Object(l["e"])(k,a,l["h"].bind(null,"img"))});y?M=$:H=$}var G=t(),F=Object(b["a"])(i["m"],E,I);(F||P||w)&&(G=t(p["a"],{props:Object(l["e"])(p["b"],a),domProps:F?{}:Object(s["a"])(w,P)},Object(b["b"])(i["m"],A,E,I)));var J=Object(b["b"])(i["h"],A,E,I);a.noBody||(J=t(f["a"],{props:Object(l["e"])(f["b"],a)},J),a.overlay&&d&&(J=t("div",{staticClass:"position-relative"},[H,J,M]),H=t(),M=t()));var L=t(),U=Object(b["a"])(i["l"],E,I);return(U||x||C)&&(L=t(h,{props:Object(l["e"])(m,a),domProps:F?{}:Object(s["a"])(C,x)},Object(b["b"])(i["l"],A,E,I))),t(a.tag,Object(n["a"])(c,{staticClass:"card",class:(r={"flex-row":O||j,"flex-row-reverse":(g||v)&&!(O||j)},B(r,"text-".concat(D),D),B(r,"bg-".concat(S),S),B(r,"border-".concat(V),V),B(r,"text-".concat(_),_),r)}),[H,G,J,L,M])}})},"34b6":function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("9b76"),s=r("365c"),b=r("cf75"),u=r("7c32"),l=r("7fa6"),d=Object(b["d"])({noBody:Object(b["c"])(o["f"],!1),rightAlign:Object(b["c"])(o["f"],!1),tag:Object(b["c"])(o["r"],"div"),verticalAlign:Object(b["c"])(o["r"],"top")},c["S"]),f=a["default"].extend({name:c["S"],functional:!0,props:d,render:function(t,e){var r=e.props,a=e.data,c=e.slots,o=e.scopedSlots,b=e.children,d=r.noBody,f=r.rightAlign,p=r.verticalAlign,O=d?b:[];if(!d){var g={},j=c(),m=o||{};O.push(t(l["a"],Object(s["b"])(i["h"],g,m,j)));var h=Object(s["b"])(i["b"],g,m,j);h&&O[f?"push":"unshift"](t(u["a"],{props:{right:f,verticalAlign:p}},h))}return t(r.tag,Object(n["a"])(a,{staticClass:"media"}),O)}})},6197:function(t,e,r){"use strict";r.d(e,"b",(function(){return j})),r.d(e,"a",(function(){return m}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("d82f"),s=r("cf75"),b=r("d580"),u=r("4968"),l=r("fa73"),d=Object(s["d"])({subTitle:Object(s["c"])(o["r"]),subTitleTag:Object(s["c"])(o["r"],"h6"),subTitleTextVariant:Object(s["c"])(o["r"],"muted")},c["o"]),f=a["default"].extend({name:c["o"],functional:!0,props:d,render:function(t,e){var r=e.props,a=e.data,c=e.children;return t(r.subTitleTag,Object(n["a"])(a,{staticClass:"card-subtitle",class:[r.subTitleTextVariant?"text-".concat(r.subTitleTextVariant):null]}),c||Object(l["g"])(r.subTitle))}});function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j=Object(s["d"])(Object(i["m"])(O(O(O(O({},u["b"]),d),Object(s["a"])(b["a"],s["f"].bind(null,"body"))),{},{bodyClass:Object(s["c"])(o["d"]),overlay:Object(s["c"])(o["f"],!1)})),c["k"]),m=a["default"].extend({name:c["k"],functional:!0,props:j,render:function(t,e){var r,a=e.props,c=e.data,o=e.children,i=a.bodyBgVariant,b=a.bodyBorderVariant,l=a.bodyTextVariant,p=t();a.title&&(p=t(u["a"],{props:Object(s["e"])(u["b"],a)}));var O=t();return a.subTitle&&(O=t(f,{props:Object(s["e"])(d,a),class:["mb-2"]})),t(a.bodyTag,Object(n["a"])(c,{staticClass:"card-body",class:[(r={"card-img-overlay":a.overlay},g(r,"bg-".concat(i),i),g(r,"border-".concat(b),b),g(r,"text-".concat(l),l),r),a.bodyClass]}),[p,O,o])}})},"7c32":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("cf75");function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=Object(i["d"])({right:Object(i["c"])(o["f"],!1),tag:Object(i["c"])(o["r"],"div"),verticalAlign:Object(i["c"])(o["r"],"top")},c["T"]),u=a["default"].extend({name:c["T"],functional:!0,props:b,render:function(t,e){var r=e.props,a=e.data,c=e.children,o=r.verticalAlign,i="top"===o?"start":"bottom"===o?"end":o;return t(r.tag,Object(n["a"])(a,{staticClass:"media-aside",class:s({"media-aside-right":r.right},"align-self-".concat(i),i)}),c)}})},"7fa6":function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("cf75"),s=Object(i["d"])({tag:Object(i["c"])(o["r"],"div")},c["U"]),b=a["default"].extend({name:c["U"],functional:!0,props:s,render:function(t,e){var r=e.props,a=e.data,c=e.children;return t(r.tag,Object(n["a"])(a,{staticClass:"media-body"}),c)}})},"977a":function(t,e,r){t.exports=r.p+"img/13-small.d796bffd.png"},b885:function(t,e,r){"use strict";r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return O}));var a=r("2b0e"),n=r("b42e"),c=r("c637"),o=r("a723"),i=r("8690"),s=r("d82f"),b=r("cf75"),u=r("d580");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=Object(b["d"])(Object(s["m"])(d(d({},Object(b["a"])(u["a"],b["f"].bind(null,"header"))),{},{header:Object(b["c"])(o["r"]),headerClass:Object(b["c"])(o["d"]),headerHtml:Object(b["c"])(o["r"])})),c["m"]),O=a["default"].extend({name:c["m"],functional:!0,props:p,render:function(t,e){var r,a=e.props,c=e.data,o=e.children,s=a.headerBgVariant,b=a.headerBorderVariant,u=a.headerTextVariant;return t(a.headerTag,Object(n["a"])(c,{staticClass:"card-header",class:[a.headerClass,(r={},f(r,"bg-".concat(s),s),f(r,"border-".concat(b),b),f(r,"text-".concat(u),u),r)],domProps:o?{}:Object(i["a"])(a.headerHtml,a.header)}),o)}})},cf9f:function(t,e,r){"use strict";r("1813")},d580:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var a=r("2b0e"),n=r("c637"),c=r("a723"),o=r("cf75"),i=Object(o["d"])({bgVariant:Object(o["c"])(c["r"]),borderVariant:Object(o["c"])(c["r"]),tag:Object(o["c"])(c["r"],"div"),textVariant:Object(o["c"])(c["r"])},n["j"]);a["default"].extend({props:i})}}]);
//# sourceMappingURL=chunk-5330bebd.a5a81754.js.map